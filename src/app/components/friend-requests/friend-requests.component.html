<!-- src/app/components/friend-requests/friend-requests.component.html -->
<div class="friend-requests-container">
    <h3 class="title">Friend Requests</h3>

    <div *ngIf="isLoading" class="loading-state">
        <div class="spinner"></div>
        <span>Loading requests...</span>
    </div>

    <div *ngIf="!isLoading && requests.length === 0" class="empty-state">
        <p>No pending friend requests</p>
    </div>

    <ul *ngIf="!isLoading && requests.length > 0" class="requests-list">
        <li *ngFor="let request of requests" class="request-item">
            <div class="request-user">
                <img [src]="request.users?.avatar_url || '/assets/default-avatar.png'" [alt]="request.users?.username"
                    class="user-avatar">
                <div class="user-details">
                    <span class="user-name">{{ request.users?.full_name || 'User' }}</span>
                    <span class="username">{{ formatUsername(request.users?.username) }}</span>
                </div>
            </div>

            <div class="request-actions">
                <button class="accept-btn" [disabled]="actionLoading[request.id]" (click)="acceptRequest(request.id)">
                    <span *ngIf="!actionLoading[request.id]">Accept</span>
                    <span *ngIf="actionLoading[request.id]" class="btn-spinner"></span>
                </button>
                <button class="reject-btn" [disabled]="actionLoading[request.id]" (click)="rejectRequest(request.id)">
                    <span *ngIf="!actionLoading[request.id]">Decline</span>
                    <span *ngIf="actionLoading[request.id]" class="btn-spinner"></span>
                </button>
            </div>
        </li>
    </ul>
</div>